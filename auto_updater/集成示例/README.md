# AutoUpdater é›†æˆç¤ºä¾‹

æœ¬ç›®å½•åŒ…å«äº†ä¸‰ç§ä¸åŒå¤æ‚åº¦çš„AutoUpdateræ¨¡å—é›†æˆç¤ºä¾‹ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿäº†è§£å¦‚ä½•åœ¨è‡ªå·±çš„PyQt5é¡¹ç›®ä¸­é›†æˆè‡ªåŠ¨æ›´æ–°åŠŸèƒ½ã€‚

## ğŸ“ æ–‡ä»¶è¯´æ˜

### 1. minimal_example.py - æç®€é›†æˆç¤ºä¾‹

**ç‰¹ç‚¹**ï¼š
- åªéœ€3è¡Œæ ¸å¿ƒä»£ç å³å¯å®Œæˆé›†æˆ
- è‡ªåŠ¨å¤„ç†æ‰€æœ‰UIå’Œé€»è¾‘
- ä½¿ç”¨é»˜è®¤é…ç½®å’Œè¡Œä¸º
- é€‚åˆå¿«é€Ÿé›†æˆå’Œæ¼”ç¤º

**è¿è¡Œæ–¹å¼**ï¼š
```bash
python minimal_example.py
```

**é€‚ç”¨åœºæ™¯**ï¼š
- å¿«é€ŸéªŒè¯åŠŸèƒ½
- å°å‹é¡¹ç›®
- ä¸éœ€è¦è‡ªå®šä¹‰çš„åœºæ™¯

### 2. standard_example.py - æ ‡å‡†é›†æˆç¤ºä¾‹

**ç‰¹ç‚¹**ï¼š
- å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
- æ”¯æŒåŸºæœ¬é…ç½®å’ŒçŠ¶æ€ç®¡ç†
- æ¨¡å—åŒ–çš„ä»£ç ç»“æ„
- æ¨èçš„ç”Ÿäº§ç¯å¢ƒé›†æˆæ–¹å¼

**è¿è¡Œæ–¹å¼**ï¼š
```bash
python standard_example.py
```

**é€‚ç”¨åœºæ™¯**ï¼š
- ç”Ÿäº§ç¯å¢ƒåº”ç”¨
- éœ€è¦ç¨³å®šæ€§å’Œå¯é æ€§
- åŸºæœ¬çš„è‡ªå®šä¹‰éœ€æ±‚

### 3. advanced_example.py - æ·±åº¦å®šåˆ¶é›†æˆç¤ºä¾‹

**ç‰¹ç‚¹**ï¼š
- å®Œå…¨æ§åˆ¶æ›´æ–°æµç¨‹å’ŒUI
- å¼‚æ­¥æ“ä½œï¼Œä¸é˜»å¡ä¸»ç•Œé¢
- è‡ªå®šä¹‰å¯¹è¯æ¡†å’Œäº¤äº’é€»è¾‘
- å®æ—¶çŠ¶æ€æ˜¾ç¤ºå’Œè¯¦ç»†æ—¥å¿—
- é€‚åˆç‰¹æ®Šä¸šåŠ¡éœ€æ±‚

**è¿è¡Œæ–¹å¼**ï¼š
```bash
python advanced_example.py
```

**é€‚ç”¨åœºæ™¯**ï¼š
- å¤§å‹ä¼ä¸šåº”ç”¨
- éœ€è¦å®Œå…¨è‡ªå®šä¹‰UI
- ç‰¹æ®Šçš„ä¸šåŠ¡é€»è¾‘éœ€æ±‚
- éœ€è¦è¯¦ç»†çš„ç”¨æˆ·åé¦ˆ

## ğŸš€ å¿«é€Ÿå¼€å§‹

1. **é€‰æ‹©ç¤ºä¾‹**ï¼šæ ¹æ®æ‚¨çš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„ç¤ºä¾‹æ–‡ä»¶
2. **é…ç½®ä¿¡æ¯**ï¼šä¿®æ”¹ `auto_updater/config_constants.py` ä¸­çš„é…ç½®
3. **è¿è¡Œæµ‹è¯•**ï¼šè¿è¡Œç¤ºä¾‹æ–‡ä»¶ä½“éªŒåŠŸèƒ½
4. **é›†æˆåˆ°é¡¹ç›®**ï¼šå‚è€ƒç¤ºä¾‹ä»£ç é›†æˆåˆ°æ‚¨çš„é¡¹ç›®ä¸­

## âš™ï¸ é…ç½®è¯´æ˜

åœ¨è¿è¡Œç¤ºä¾‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿å·²æ­£ç¡®é…ç½® `auto_updater/config_constants.py`ï¼š

```python
# åº”ç”¨ç¨‹åºé…ç½®
APP_NAME = "æ‚¨çš„åº”ç”¨ç¨‹åºåç§°"
APP_EXECUTABLE = "your_app.exe"
CURRENT_VERSION = "1.0.0"

# GitHubé…ç½®
GITHUB_OWNER = "your-username"
GITHUB_REPO = "your-repo-name"
```

## ğŸ”§ æµ‹è¯•åŠŸèƒ½

### åŸºæœ¬åŠŸèƒ½æµ‹è¯•

1. **ç‰ˆæœ¬æ£€æŸ¥**ï¼šç‚¹å‡»"æ£€æŸ¥æ›´æ–°"æŒ‰é’®æµ‹è¯•ç‰ˆæœ¬æ£€æŸ¥åŠŸèƒ½
2. **èœå•é›†æˆ**ï¼šæŸ¥çœ‹èœå•æ ä¸­çš„æ›´æ–°ç›¸å…³é€‰é¡¹
3. **é”™è¯¯å¤„ç†**ï¼šæ•…æ„æ–­å¼€ç½‘ç»œæµ‹è¯•é”™è¯¯å¤„ç†
4. **æ—¥å¿—è®°å½•**ï¼šæŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºçš„è¯¦ç»†æ—¥å¿—

### é«˜çº§åŠŸèƒ½æµ‹è¯•ï¼ˆä»…advanced_exampleï¼‰

1. **å¼‚æ­¥æ“ä½œ**ï¼šè§‚å¯Ÿç•Œé¢åœ¨æ›´æ–°æ£€æŸ¥æ—¶ä¸ä¼šè¢«é˜»å¡
2. **å®æ—¶çŠ¶æ€**ï¼šæŸ¥çœ‹å®æ—¶æ›´æ–°çš„çŠ¶æ€ä¿¡æ¯
3. **ç½‘ç»œæµ‹è¯•**ï¼šä½¿ç”¨"æµ‹è¯•ç½‘ç»œ"åŠŸèƒ½æ£€æŸ¥è¿æ¥çŠ¶æ€
4. **ç‰ˆæœ¬ä¿¡æ¯**ï¼šæŸ¥çœ‹è¯¦ç»†çš„ç‰ˆæœ¬å’Œé…ç½®ä¿¡æ¯

## ğŸ“‹ é›†æˆæ­¥éª¤å‚è€ƒ

### æ­¥éª¤1ï¼šå¤åˆ¶æ¨¡å—
```bash
# å¤åˆ¶auto_updateræ–‡ä»¶å¤¹åˆ°æ‚¨çš„é¡¹ç›®æ ¹ç›®å½•
cp -r auto_updater/ /path/to/your/project/
```

### æ­¥éª¤2ï¼šé€‰æ‹©é›†æˆæ–¹æ¡ˆ

**æç®€é›†æˆ**ï¼š
```python
from auto_updater import AutoUpdater

class MainWindow(QMainWindow):
    def __init__(self):
        super().__init__()
        self.setup_ui()

        # ä»…éœ€3è¡Œä»£ç 
        self.auto_updater = AutoUpdater(self)
        self.auto_updater.setup_update_ui(self.menuBar(), "å¸®åŠ©(H)")

    def closeEvent(self, event):
        if hasattr(self, 'auto_updater'):
            self.auto_updater.cleanup()
        event.accept()
```

**æ ‡å‡†é›†æˆ**ï¼š
```python
from auto_updater import AutoUpdater, UI_AVAILABLE
import logging

class MainWindow(QMainWindow):
    def __init__(self):
        super().__init__()
        self.setup_ui()
        self.setup_auto_update()

    def setup_auto_update(self):
        try:
            if UI_AVAILABLE:
                self.auto_updater = AutoUpdater(self)
                success = self.auto_updater.setup_update_ui(self.menuBar(), "å¸®åŠ©(H)")

                if success:
                    logging.info("è‡ªåŠ¨æ›´æ–°åŠŸèƒ½é›†æˆæˆåŠŸ")
                    self.auto_updater.enable_auto_check = True
                else:
                    self.auto_updater = None
        except Exception as e:
            logging.error(f"è‡ªåŠ¨æ›´æ–°å™¨åˆå§‹åŒ–å¤±è´¥: {e}")
            self.auto_updater = None
```

### æ­¥éª¤3ï¼šé…ç½®GitHubä»“åº“

1. åˆ›å»ºGitHubä»“åº“
2. åœ¨GitHubä¸Šåˆ›å»ºRelease
3. ä¸Šä¼ æ‰“åŒ…å¥½çš„exeæ–‡ä»¶
4. æµ‹è¯•æ›´æ–°æµç¨‹

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **å¯¼å…¥é”™è¯¯**ï¼šç¡®ä¿auto_updateræ–‡ä»¶å¤¹åœ¨é¡¹ç›®æ ¹ç›®å½•
2. **ç½‘ç»œé—®é¢˜**ï¼šæ£€æŸ¥ç½‘ç»œè¿æ¥å’ŒGitHub APIè®¿é—®
3. **æƒé™é—®é¢˜**ï¼šç¡®ä¿åº”ç”¨ç¨‹åºæœ‰è¶³å¤Ÿæƒé™åˆ›å»ºå¤‡ä»½æ–‡ä»¶
4. **ç‰ˆæœ¬æ ¼å¼**ï¼šä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬å·ï¼ˆå¦‚1.0.0ï¼‰

### è°ƒè¯•æŠ€å·§

1. **å¯ç”¨è¯¦ç»†æ—¥å¿—**ï¼š
   ```python
   import logging
   logging.basicConfig(level=logging.DEBUG)
   ```

2. **æ£€æŸ¥é…ç½®**ï¼š
   ```python
   print(f"APP_NAME: {APP_NAME}")
   print(f"GITHUB_REPO: {GITHUB_REPO}")
   ```

3. **æ‰‹åŠ¨æµ‹è¯•**ï¼š
   ```python
   has_update, remote, local, error = updater.check_for_updates(force_check=True)
   print(f"Update available: {has_update}")
   ```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å®Œæ•´é›†æˆæ•™ç¨‹](../é›†æˆæ•™ç¨‹.md)
- [APIæ–‡æ¡£](../README.md)
- [é…ç½®è¯´æ˜](../config_constants.py)

## ğŸ¤ è´¡çŒ®

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å‘ç°é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œæ¬¢è¿ï¼š

1. æäº¤Issue
2. æäº¤Pull Request
3. è”ç³»å¼€å‘å›¢é˜Ÿ

---

**ç‰ˆæœ¬**: 1.0
**æœ€åæ›´æ–°**: 2025å¹´11æœˆ27æ—¥
**ç»´æŠ¤è€…**: AutoUpdaterå¼€å‘å›¢é˜Ÿ